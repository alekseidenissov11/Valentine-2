<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>–ë—É–¥—å –º–æ–µ–π –í–∞–ª–µ–Ω—Ç–∏–Ω–∫–æ–π ‚ù§Ô∏è</title>
  <style>
    :root{
      --bg1:#ffafbd;
      --bg2:#ffc3a0;
      --yes:#ff4d6d;
      --white:#ffffff;
      --text:#ffffff;
    }

    body{
      height:100vh;
      margin:0;
      display:flex;
      justify-content:center;
      align-items:center;
      font-family: Arial, sans-serif;
      background: linear-gradient(135deg, var(--bg1), var(--bg2));
      overflow:hidden;
      padding: 24px;
      box-sizing: border-box;
    }

    .screen{
      width:100%;
      max-width: 980px;
      text-align:center;
      color: var(--text);
      user-select:none;
      z-index: 2;
    }

    h1{
      margin:0 0 26px 0;
      line-height: 1.25;
      text-shadow: 0 2px 16px rgba(0,0,0,0.12);
      font-size: clamp(26px, 3vw, 44px);
      font-weight: 800;
    }

    .buttons{
      display:flex;
      justify-content:center;
      align-items:center;
      gap: 16px;
      margin-top: 10px;
      z-index: 2;
      position: relative;
    }

    button{
      padding: 14px 28px;
      font-size: 18px;
      border: none;
      border-radius: 999px;
      cursor: pointer;
      transition: transform .08s ease, filter .15s ease;
      user-select:none;
      box-shadow: 0 10px 25px rgba(0,0,0,0.12);
    }
    button:active{ transform: scale(0.98); }

    #yesBtn{
      background: var(--yes);
      color: var(--white);
      position: relative;
      z-index: 3;
    }

    #noBtn{
      background: var(--white);
      color: var(--yes);
      position: relative;
      z-index: 3;
    }

    /* –ö–ª–æ–Ω—ã –ù–ï–¢ –ø–æ –≤—Å–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ */
    .noClone{
      position: fixed;      /* —á—Ç–æ–±—ã —Ä–∏—Å–æ–≤–∞—Ç—å –ø–æ –≤—Å–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ */
      background: var(--white);
      color: var(--yes);
      border-radius: 999px;
      display:flex;
      align-items:center;
      justify-content:center;
      white-space: nowrap;
      pointer-events: none; /* —á—Ç–æ–±—ã –Ω–µ –º–µ—à–∞–ª–∏ –∫–Ω–æ–ø–∫–∞–º */
      opacity: 0.95;
      z-index: 1;           /* –ø–æ–¥ –æ—Å–Ω–æ–≤–Ω—ã–º —Ç–µ–∫—Å—Ç–æ–º –∏ –∫–Ω–æ–ø–∫–∞–º–∏ */
      box-shadow: 0 10px 25px rgba(0,0,0,0.10);
    }

    /* —ç–∫—Ä–∞–Ω "–ø–æ–¥—É–º–∞–π –µ—â—ë —Ä–∞–∑" */
    .hint{
      display:none;
      z-index: 5;
    }

    .hint p{
      margin: 0 0 18px 0;
      font-size: clamp(18px, 2.2vw, 28px);
      font-weight: 800;
      text-shadow: 0 2px 16px rgba(0,0,0,0.12);
    }

    #okBtn{
      background: var(--white);
      color: var(--yes);
      font-weight: 800;
      padding: 12px 34px;
    }
  </style>
</head>
<body>

  <!-- –°–¢–ê–†–¢–û–í–´–ô –≠–ö–†–ê–ù -->
  <div class="screen" id="mainScreen">
    <h1 id="mainText">
      –ë–∏—Ä–≥–∏—Ç, –¥–∞–∂–µ –µ—Å–ª–∏ —è –Ω–µ –≤—Å–µ–≥–¥–∞ —Ä—è–¥–æ–º, –∑–Ω–∞–π ‚Äî —è –≤—Å–µ–≥–¥–∞ —É —Ç–µ–±—è –µ—Å—Ç—å,<br>
      —è —Ç–µ–±—è –æ—á–µ–Ω—å —Å–∏–ª—å–Ω–æ –ª—é–±–ª—é!! üíï<br><br>
      –¢—ã –±—É–¥–µ—à—å –º–æ–µ–π –í–∞–ª–µ–Ω—Ç–∏–Ω–∫–æ–π?
    </h1>

    <div class="buttons">
      <button id="yesBtn">–î–ê ‚ù§Ô∏è</button>
      <button id="noBtn">–ù–ï–¢ üò¢</button>
    </div>
  </div>

  <!-- –≠–ö–†–ê–ù "–ü–û–î–£–ú–ê–ô –ï–©–Å –†–ê–ó" -->
  <div class="screen hint" id="hintScreen">
    <p>–ü–æ–¥—É–º–∞–π –µ—â—ë —Ä–∞–∑ —Ö–æ—Ä–æ—à–µ–Ω—å–∫–æ, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞ üôè</p>
    <button id="okBtn">–û–ö</button>
  </div>

  <script>
    const mainScreen = document.getElementById("mainScreen");
    const hintScreen = document.getElementById("hintScreen");

    const yesBtn = document.getElementById("yesBtn");
    const noBtn  = document.getElementById("noBtn");
    const okBtn  = document.getElementById("okBtn");

    // –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —ç—Ñ—Ñ–µ–∫—Ç–∞
    const stepX = 55;        // —Å–º–µ—â–µ–Ω–∏–µ –≤–ø—Ä–∞–≤–æ (—é–≥–æ-–≤–æ—Å—Ç–æ–∫)
    const stepY = 40;        // —Å–º–µ—â–µ–Ω–∏–µ –≤–Ω–∏–∑
    const grow  = 1.20;      // —É–≤–µ–ª–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞
    const maxClones = 80;    // –∑–∞—â–∏—Ç–∞

    let clones = [];
    let count = 0;

    function clearClones(){
      clones.forEach(el => el.remove());
      clones = [];
      count = 0;
    }

    function showHint(){
      mainScreen.style.display = "none";
      hintScreen.style.display = "block";
    }

    function showMain(){
      hintScreen.style.display = "none";
      mainScreen.style.display = "block";
      clearClones();
    }

    function addClone(){
      if (count >= maxClones) { showHint(); return; }

      // –ë–µ—Ä—ë–º –ø–æ—Å–ª–µ–¥–Ω—é—é –∫–Ω–æ–ø–∫—É/–∫–ª–æ–Ω –∫–∞–∫ —Ç–æ—á–∫—É –æ—Ç—Å—á—ë—Ç–∞
      let x, y, w, h;
      if (count === 0) {
        const r = noBtn.getBoundingClientRect();
        x = r.left; y = r.top; w = r.width; h = r.height;
      } else {
        const prev = clones[clones.length - 1];
        x = parseFloat(prev.dataset.x);
        y = parseFloat(prev.dataset.y);
        w = parseFloat(prev.dataset.w);
        h = parseFloat(prev.dataset.h);
      }

      const nextW = w * grow;
      const nextH = h * grow;
      const nextX = x + stepX;
      const nextY = y + stepY;

      // –ï—Å–ª–∏ –¥–æ—à–ª–∏ –¥–æ –∫—Ä–∞—è —ç–∫—Ä–∞–Ω–∞ ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ–º "–ø–æ–¥—É–º–∞–π –µ—â—ë —Ä–∞–∑"
      const overflow =
        (nextX + nextW > window.innerWidth - 12) ||
        (nextY + nextH > window.innerHeight - 12);

      if (overflow) { showHint(); return; }

      const el = document.createElement("div");
      el.className = "noClone";
      el.textContent = "–ù–ï–¢ üò¢";

      el.style.left = nextX + "px";
      el.style.top  = nextY + "px";
      el.style.width  = nextW + "px";
      el.style.height = nextH + "px";

      const fontSize = Math.min(64, 18 * Math.pow(grow, count + 1));
      el.style.fontSize = Math.max(14, fontSize) + "px";

      el.dataset.x = String(nextX);
      el.dataset.y = String(nextY);
      el.dataset.w = String(nextW);
      el.dataset.h = String(nextH);

      document.body.appendChild(el);
      clones.push(el);
      count++;
    }

    // –ù–∞ –Ω–∞–≤–µ–¥–µ–Ω–∏–µ/–ø–æ–ø—ã—Ç–∫—É –Ω–∞–∂–∞—Ç—å "–ù–ï–¢" ‚Äî –∑–∞–ø—É—Å–∫–∞–µ–º —ç—Ñ—Ñ–µ–∫—Ç
    noBtn.addEventListener("mouseenter", addClone);
    noBtn.addEventListener("mousedown", (e) => { e.preventDefault(); addClone(); });
    noBtn.addEventListener("click", (e) => { e.preventDefault(); addClone(); });

    // "–î–ê" ‚Äî —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —ç–∫—Ä–∞–Ω
    yesBtn.addEventListener("click", () => {
      document.body.innerHTML =
        "<div style='height:100vh;display:flex;align-items:center;justify-content:center;text-align:center;padding:24px;box-sizing:border-box;font-family:Arial,sans-serif;background:linear-gradient(135deg,#ffafbd,#ffc3a0);'>" +
        "<h1 style='margin:0;color:#fff;line-height:1.25;text-shadow:0 2px 16px rgba(0,0,0,0.12);font-size:clamp(28px,3vw,52px);font-weight:900;'>" +
        "–Ø —Ç–∞–∫ –∏ –∑–Ω–∞–ª!!! ‚ù§Ô∏è<br><br>Happy Valentine‚Äôs Day üíò" +
        "</h1></div>";
    });

    // –û–ö ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Å—Ç–∞—Ä—Ç
    okBtn.addEventListener("click", showMain);

    // –ï—Å–ª–∏ –º–µ–Ω—è—é—Ç —Ä–∞–∑–º–µ—Ä –æ–∫–Ω–∞ ‚Äî –æ—á–∏—â–∞–µ–º –∫–ª–æ–Ω—ã, —á—Ç–æ–±—ã –Ω–µ –≥–ª—é—á–∏–ª–æ
    window.addEventListener("resize", () => {
      if (hintScreen.style.display !== "block") clearClones();
    });
  </script>
</body>
</html>
